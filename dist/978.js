"use strict";(self.webpackChunkpd_free_angularcli=self.webpackChunkpd_free_angularcli||[]).push([[978],{1978:(M,p,r)=>{r.r(p),r.d(p,{AdminLayoutModule:()=>F});var m=r(646),a=r(6895),g=r(433),l=r(3434),t=r(8256);let h=(()=>{class i{constructor(e){this.service=e,this.isLoading=!1}ngOnInit(){this.getStatistique()}getStatistique(){this.isLoading=!0,this.service.getDashboardStat().subscribe(e=>{console.log(e),this.listeItems=e.data,this.isLoading=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dashboard-cmp"]],decls:43,vars:3,consts:[[1,"row"],[1,"col-lg-4","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-body"],[1,"col-5","col-md-4"],[1,"icon-big","text-center","icon-warning"],[1,"nc-icon","nc-globe","text-warning"],[1,"col-7","col-md-8"],[1,"numbers"],[1,"card-category"],[1,"card-title"],[1,"nc-icon","nc-money-coins","text-success"],[1,"nc-icon","nc-vector","text-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"div",5),t._UZ(7,"i",6),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"p",9),t._uU(11,"Nombre d'utilisateur"),t.qZA(),t.TgZ(12,"p",10),t._uU(13),t.qZA(),t._UZ(14,"p"),t.qZA()()()()()(),t.TgZ(15,"div",1)(16,"div",2)(17,"div",3)(18,"div",0)(19,"div",4)(20,"div",5),t._UZ(21,"i",11),t.qZA()(),t.TgZ(22,"div",7)(23,"div",8)(24,"p",9),t._uU(25,"Montant total d\xe9pot"),t.qZA(),t.TgZ(26,"p",10),t._uU(27),t.qZA(),t._UZ(28,"p"),t.qZA()()()()()(),t.TgZ(29,"div",1)(30,"div",2)(31,"div",3)(32,"div",0)(33,"div",4)(34,"div",5),t._UZ(35,"i",12),t.qZA()(),t.TgZ(36,"div",7)(37,"div",8)(38,"p",9),t._uU(39,"Montant total des retraits"),t.qZA(),t.TgZ(40,"p",10),t._uU(41),t.qZA(),t._UZ(42,"p"),t.qZA()()()()()()()),2&e&&(t.xp6(13),t.hij("",n.listeItems.nbre_user," "),t.xp6(14),t.hij("\u20ac ",n.listeItems.montant_total_depot," "),t.xp6(14),t.hij("\u20ac ",n.listeItems.montant_total_retrait," "))},encapsulation:2}),i})();function Z(i,o){1&i&&(t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"span",14),t.qZA()())}function _(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",15),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",16),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.confirmAction("valider",c))}),t._UZ(15,"i",17),t.qZA(),t.TgZ(16,"button",18),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.confirmAction("supprimer",c))}),t._UZ(17,"i",19),t.qZA()()()}if(2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.hij("",n+1," "),t.xp6(2),t.hij("",e.username," "),t.xp6(2),t.hij("",e.last_name," "),t.xp6(2),t.hij("",e.first_name," "),t.xp6(2),t.hij("",e.email," "),t.xp6(2),t.hij("",e.phone," ")}}let v=(()=>{class i{constructor(e){this.service=e,this.isLoading=!1}ngOnInit(){this.getUser()}getUser(){this.isLoading=!0,this.service.getUserList().subscribe(e=>{console.log(e),this.listeItems=e.user,console.log(this.listeItems),this.isLoading=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["table-cmp"]],decls:27,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","text-center",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["scope","row"],["title","Modifier",1,"btn","btn-primary",3,"click"],[1,"fa","fa-pencil"],["title","Supprimer",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5," Users list "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,Z,3,0,"div",6),t.TgZ(8,"div",7)(9,"table",8)(10,"thead",9)(11,"th"),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Username"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Last Name"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"First Name"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Email"),t.qZA(),t.TgZ(21,"th",10),t._uU(22,"Phone"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Action"),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,_,18,6,"tr",11),t.qZA()()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.isLoading),t.xp6(19),t.Q6J("ngForOf",n.listeItems))},dependencies:[a.sg,a.O5],encapsulation:2}),i})();var T=r(7185),f=r(3701);function A(i,o){1&i&&(t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"span",24),t.qZA()())}function U(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"th",25),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",26),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.confirmAction("valider",c))}),t._UZ(15,"i",27),t.qZA(),t.TgZ(16,"button",28),t.NdJ("click",function(){const c=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.confirmAction("annuler",c))}),t._UZ(17,"i",29),t.qZA()()()}if(2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.hij("",n+1," "),t.xp6(2),t.hij("",e.auteur.username," "),t.xp6(2),t.hij("",e.auteur.email," "),t.xp6(2),t.hij("",e.montant," "),t.xp6(2),t.hij("",e.portfeuille.num_compte," "),t.xp6(2),t.hij("",e.statut," ")}}const b=function(i){return{show:i}};let y=(()=>{class i{constructor(e,n,s){this.service=e,this.toastr=n,this.toast=s,this.isLoading=!1,this.showModal=!1}ngOnInit(){this.getWithdraw()}getWithdraw(){this.isLoading=!0,this.service.getWithdrawList().subscribe(e=>{console.log(e),this.listeItems=e.transactions,this.isLoading=!1})}confirmAction(e,n){this.action=e,this.currentItem=n,this.showModal=!0}closeModal(){this.showModal=!1}executeAction(){"valider"===this.action?this.validerDemande(this.currentItem):"annuler"===this.action&&this.annulerDemande(this.currentItem),this.closeModal()}validerDemande(e){this.isLoading=!0,console.log("Demande valid\xe9e : ",e),this.service.confirmWithdraw({withdraw_id:e.id}).subscribe(s=>{console.log(s),this.isLoading=!1,this.toastr.success("La demande a \xe9t\xe9 valid\xe9e avec succ\xe8s.","Succ\xe8s")},s=>{this.isLoading=!1,console.log(s),this.toastr.error(s.error.message,"Erreur")})}annulerDemande(e){this.isLoading=!0,console.log("Demande annul\xe9e : ",e),this.service.cancelWithdraw({withdraw_id:e.id}).subscribe(s=>{console.log(s),this.isLoading=!1,this.toastr.success("La demande a \xe9t\xe9 valid\xe9e avec succ\xe8s.","Succ\xe8s")})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.O),t.Y36(T._W),t.Y36(f.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["typography-cmp"]],decls:44,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","text-center",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[4,"ngFor","ngForOf"],["tabindex","-1","role","dialog",1,"modal",3,"ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["scope","row"],["title","Valider",1,"btn","btn-success",3,"click"],[1,"fa","fa-check"],["title","Annuler",1,"btn","btn-danger",3,"click"],[1,"fa","fa-times"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5," Withdraw request list "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,A,3,0,"div",6),t.TgZ(8,"div",7)(9,"table",8)(10,"thead",9)(11,"th"),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Username"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Email"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Montant"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"PM ACcount"),t.qZA(),t.TgZ(21,"th"),t._uU(22,"Statut"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Action"),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,U,18,6,"tr",10),t.qZA()()()()()(),t.TgZ(27,"div",11)(28,"div",12)(29,"div",13)(30,"div",14)(31,"h5",15),t._uU(32,"Confirmation"),t.qZA(),t.TgZ(33,"button",16),t.NdJ("click",function(){return n.closeModal()}),t.TgZ(34,"span",17),t._uU(35,"\xd7"),t.qZA()()(),t.TgZ(36,"div",18)(37,"p"),t._uU(38),t.qZA()(),t.TgZ(39,"div",19)(40,"button",20),t.NdJ("click",function(){return n.executeAction()}),t._uU(41,"Oui"),t.qZA(),t.TgZ(42,"button",21),t.NdJ("click",function(){return n.closeModal()}),t._uU(43,"Non"),t.qZA()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.isLoading),t.xp6(19),t.Q6J("ngForOf",n.listeItems),t.xp6(1),t.Jzz("display: ",n.showModal?"block":"none",";"),t.Q6J("ngClass",t.VKq(7,b,n.showModal)),t.xp6(11),t.hij("\xcates-vous s\xfbr de vouloir ",n.action," cette demande de retrait?"))},dependencies:[a.mk,a.sg,a.O5],encapsulation:2}),i})();function q(i,o){1&i&&(t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"span",13),t.qZA()())}function x(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t._UZ(11,"td"),t.qZA()),2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.hij("",n+1," "),t.xp6(2),t.hij("",e.auteur.username," "),t.xp6(2),t.hij("",e.auteur.email," "),t.xp6(2),t.hij("",e.montant," "),t.xp6(2),t.hij("",e.date," ")}}let C=(()=>{class i{constructor(e){this.service=e,this.isLoading=!1}ngOnInit(){this.getDeposit()}getDeposit(){this.isLoading=!0,this.service.getDepositList().subscribe(e=>{console.log(e),this.listeItems=e.transactions,this.isLoading=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(l.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["upgrade-cmp"]],decls:23,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","text-center",4,"ngIf"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["scope","row"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5," Deposit list "),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,q,3,0,"div",6),t.TgZ(8,"div",7)(9,"table",8)(10,"thead",9)(11,"th"),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Username"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Email"),t.qZA(),t.TgZ(17,"th"),t._uU(18,"Montant"),t.qZA(),t.TgZ(19,"th"),t._uU(20,"Date"),t.qZA()(),t.TgZ(21,"tbody"),t.YNc(22,x,12,5,"tr",10),t.qZA()()()()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",n.isLoading),t.xp6(15),t.Q6J("ngForOf",n.listeItems))},dependencies:[a.sg,a.O5],encapsulation:2}),i})();var L=r(629);let u=(()=>{class i{constructor(e,n){this.router=e,this.authService=n}canActivate(e,n){return!!this.authService.currentUserValue||(this.router.navigate(["/auth/login"],{queryParams:{returnUrl:n.url}}),!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.F0),t.LFG(L.e))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const w=[{path:"dashboard",component:h,canActivate:[u]},{path:"users",component:v,canActivate:[u]},{path:"withdraws",component:y,canActivate:[u]},{path:"deposit",component:C,canActivate:[u]}];var I=r(8754);let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[a.ez,m.Bz.forChild(w),g.u5,I.IJ]}),i})()}}]);